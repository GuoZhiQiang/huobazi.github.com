<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Communtiy Server | 武眉博]]></title>
  <link href="http://huobazi.github.com/blog/tag/communtiy-server/atom.xml" rel="self"/>
  <link href="http://huobazi.github.com/"/>
  <updated>2012-11-27T11:09:53+08:00</updated>
  <id>http://huobazi.github.com/</id>
  <author>
    <name><![CDATA[Marble Wu]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Communtiy Server论坛的帖子显示页面分页部分的Url Rewrite的构造方法]]></title>
    <link href="http://huobazi.github.com/blog/2005/10/07/cb-249806/"/>
    <updated>2005-10-07T17:24:00+08:00</updated>
    <id>http://huobazi.github.com/blog/2005/10/07/cb-249806</id>
    <content type="html"><![CDATA[<p>你可能会发现在Communtiy Server的论坛帖子列表页面</p>


<p>比如<a href="http://communityserver.org/forums/129/ShowForum.aspx">http://communityserver.org/forums/129/ShowForum.aspx</a></p>


<p>看下面分页处的连接使用的地址是类似ShowForum.aspx?PageIndex=2这样的地址<br />没有做到SearchFriendly,我们稍微改造一下代码就可以实现类似帖子显示页面内那样的地址<br />先在siteUrl.config内增加</p>


<p> </p>


<div style="padding-right: 5px; padding-left: 4px; font-size: 13px; padding-bottom: 4px; width: 98%; word-break: break-all; padding-top: 4px; background-color: #eeeeee; border: #cccccc 1px solid;">
<span style="COLOR: #0000ff">&lt;</span><span style="COLOR: #800000">url </span><span style="COLOR: #ff0000">name</span><span style="COLOR: #0000ff">="forum_Paged"</span><span style="COLOR: #ff0000"> location </span><span style="COLOR: #0000ff">= "forums"</span><span style="COLOR: #ff0000"> path </span><span style="COLOR: #0000ff">= "{0}/{1}/ShowForum.aspx"</span><span style="COLOR: #ff0000"> pattern </span><span style="COLOR: #0000ff">= "(\d+)/(\d+)/ShowForum.aspx"</span><span style="COLOR: #ff0000"> vanity</span><span style="COLOR: #0000ff">="ShowForum.aspx?PageIndex=$1^ForumID=$2"</span><span style="COLOR: #ff0000"> </span><span style="COLOR: #0000ff">/&gt;</span><span style="COLOR: #000000"><br /></span>
</div>


<p>然后siteUrl.cs内增加<br /> </p>


<div class="codeDiv">public virtual string FormPagedFormat (int forumID)<br />{<br /> return urlData.FormatUrl("forum_Paged", "{0}", forumID.ToString(), forumID.ToString());<br />}</div>


<p>接着ThreadView.cs内paer数据绑定处增加</p>


<div class="codeDiv">pager.UrlPattern = SiteUrls.Instance().FormPagedFormat(csContext.ForumID);<br /> </div>


<p>重新编译，OK，看看效果吧～～</p>


<p><a href="http://www.3pub.com/bbs/3/default.aspx">http://www.3pub.com/bbs/3/default.aspx</a></p>


<p></p>
]]></content>
  </entry>
  
</feed>
