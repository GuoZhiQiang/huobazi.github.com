<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Password on 武眉博</title>
    <link>http://huobazi.aspxboy.com/tags/password/</link>
    <description>Recent content in Password on 武眉博</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 22 Jun 2011 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://huobazi.aspxboy.com/tags/password/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>在Console下输入密码，以星号代替。</title>
      <link>http://huobazi.aspxboy.com/blog/2011/06/22/password-masking-in-csharp-console-application/</link>
      <pubDate>Wed, 22 Jun 2011 00:00:00 +0000</pubDate>
      
      <guid>http://huobazi.aspxboy.com/blog/2011/06/22/password-masking-in-csharp-console-application/</guid>
      <description>&lt;p&gt;如何在Console下输入密码，像*unix系统下那样不显示，或者显示星号，如下代码经过测试：&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class=&#34;source&#34; style=&#34;font-family: &#39;[object HTMLOptionElement]&#39;, Consolas, &#39;Lucida Console&#39;, &#39;Courier New&#39;; color: #ffffff; background-color: #333333; &#34;&gt;
&lt;p&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// Gets the console secure password.&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #f0e68c; &#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color: #f0e68c; &#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;SecureString&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;GetConsoleSecurePassword&lt;/span&gt;( )&lt;br /&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;SecureString&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;pwd&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #f0e68c; &#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;SecureString&lt;/span&gt;( );&lt;br /&gt;    &lt;span style=&#34;color: #f0e68c; &#34;&gt;while&lt;/span&gt; ( &lt;span style=&#34;color: #f0e68c; &#34;&gt;true&lt;/span&gt; )&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKeyInfo&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;ReadKey&lt;/span&gt;( &lt;span style=&#34;color: #f0e68c; &#34;&gt;true&lt;/span&gt; );&lt;br /&gt;        &lt;span style=&#34;color: #f0e68c; &#34;&gt;if&lt;/span&gt; ( &lt;span style=&#34;color: #ffffff; &#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Key&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKey&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Enter&lt;/span&gt; )&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #f0e68c; &#34;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;br /&gt;        &lt;span style=&#34;color: #f0e68c; &#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;if&lt;/span&gt; ( &lt;span style=&#34;color: #ffffff; &#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Key&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKey&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Backspace&lt;/span&gt; )&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;RemoveAt&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Length&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;1&lt;/span&gt; );&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Write&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;&#34;\b \b&#34;&lt;/span&gt; );&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;br /&gt;        &lt;span style=&#34;color: #f0e68c; &#34;&gt;else&lt;/span&gt;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;AppendChar&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;i&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;KeyChar&lt;/span&gt; );&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Write&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;&#34;*&#34;&lt;/span&gt; );&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span style=&#34;color: #f0e68c; &#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;pwd&lt;/span&gt;;&lt;br /&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// Gets the console password.&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #87ceeb; &#34;&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&#34;color: #f0e68c; &#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color: #f0e68c; &#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color: #bdb76b; &#34;&gt;string&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;GetConsolePassword&lt;/span&gt;( )&lt;br /&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;StringBuilder&lt;/span&gt; sb &lt;span style=&#34;color: #ffffff; &#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #f0e68c; &#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;StringBuilder&lt;/span&gt;( );&lt;br /&gt;    &lt;span style=&#34;color: #f0e68c; &#34;&gt;while&lt;/span&gt; ( &lt;span style=&#34;color: #f0e68c; &#34;&gt;true&lt;/span&gt; )&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKeyInfo&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;cki&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;ReadKey&lt;/span&gt;( &lt;span style=&#34;color: #f0e68c; &#34;&gt;true&lt;/span&gt; );&lt;br /&gt;        &lt;span style=&#34;color: #f0e68c; &#34;&gt;if&lt;/span&gt; ( &lt;span style=&#34;color: #ffffff; &#34;&gt;cki&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Key&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKey&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Enter&lt;/span&gt; )&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;WriteLine&lt;/span&gt;( );&lt;br /&gt;            &lt;span style=&#34;color: #f0e68c; &#34;&gt;break&lt;/span&gt;;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        &lt;span style=&#34;color: #f0e68c; &#34;&gt;if&lt;/span&gt; ( &lt;span style=&#34;color: #ffffff; &#34;&gt;cki&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Key&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;ConsoleKey&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Backspace&lt;/span&gt; )&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #f0e68c; &#34;&gt;if&lt;/span&gt; ( sb&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Length&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color: #ffffff; &#34;&gt;0&lt;/span&gt; )&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;{&lt;/span&gt;&lt;br /&gt;                &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Write&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;&#34;\b\0\b&#34;&lt;/span&gt; );&lt;br /&gt;                sb&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Length&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;--;&lt;/span&gt;&lt;br /&gt;            &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;            &lt;span style=&#34;color: #f0e68c; &#34;&gt;continue&lt;/span&gt;;&lt;br /&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;        &lt;span style=&#34;color: #ffffff; &#34;&gt;Console&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Write&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;&#39;*&#39;&lt;/span&gt; );&lt;br /&gt;        sb&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;Append&lt;/span&gt;( &lt;span style=&#34;color: #ffffff; &#34;&gt;cki&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;KeyChar&lt;/span&gt; );&lt;br /&gt;    &lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    &lt;span style=&#34;color: #f0e68c; &#34;&gt;return&lt;/span&gt; sb&lt;span style=&#34;color: #ffffff; &#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;ToString&lt;/span&gt;( );&lt;br /&gt;&lt;span style=&#34;color: #ffffff; &#34;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;gist：&lt;a href=&#34;https://gist.github.com/1039424&#34;&gt;https://gist.github.com/1039424&lt;/a&gt;&lt;/p&gt;               
</description>
    </item>
    
  </channel>
</rss>